<div class="row my-1">
  <div class="col-12 col-md-2">
    <div class="my-1">
      <select class="form-control custom-select" id="roomType" name="multi-filter">
        <option value="" selected>ประเภทห้อง</option>
        <option value="standard">Standard</option>
        <option value="superior">Superior</option>
        <option value="deluxe">Deluxe</option>
        <option value="suite">Suite</option>
        <option value="family">Family</option>
        <option value="studio">Studio</option>
        <option value="connecting">Connecting</option>
        <option value="duplex">Duplex</option>
        <option value="villa">Villa</option>
        <option value="adjoining">Adjoining</option>
        <option value="cabana">Cabana</option>
        <option value="honeymoon">Honeymoon</option>
        <option value="roomtype-no-specify">ไม่ระบุ ทั่วไป</option>
      </select>

    </div>
  </div>
  <div class="col-12 col-md-3">
    <div class="my-1">
      <select class="form-control custom-select" id="bedType" name="multi-filter">
        <option selected value="">ประเภทเตียง</option>
        <option value="king-sized">King Sized</option>
        <option value="queen-sized">Queen Sized</option>
        <option value="single-bed">Single</option>
        <option value="twin-bed">Twin</option>
        <option value="double-bed">Double</option>
        <option value="triple-bed">Triple</option>
        <option value="quad-bed">Quad</option>
        <option value="bedtype-no-specify">ไม่ระบุ</option>
      </select>
    </div>
  </div>
  <div class="col-12 col-md-2">
    <div class="input-group my-1">
      <select class="form-control custom-select" id="roomview" name="multi-filter">
        <option value="" selected>วิวห้อง</option>
        <option value="garden-view">Garden View</option>
        <option value="seaview">Seaview</option>
        <option value="poolview">Poolview</option>
        <option value="pool-access">Pool Access</option>
        <option value="beach-front">Beach Front</option>
        <option value="view-no-specify">ไม่ระบุ</option>
      </select>
    </div>
  </div>
  <div class="col-auto">
    <button class="btn bg-gradient-secondary rounded-0" id="resetRoomQuery">
      <i class="fa-solid fa-xmark"></i>
      <strong class="ml-1">รีเซ็ตค่า</strong>
    </button>

    <button class="btn bg-gradient-secondary rounded-0" id="getRoomDataAll">
      <span class="font-weight-bold">ทั้งหมด</span>
    </button>

    <button class="btn bg-gradient-primary m-1  rounded-0" id="findDataBtn">
      <i class="fa-solid fa-magnifying-glass"></i>
      <span class="font-weight-bold ml-1">ค้นหา</span>
    </button>
  </div>
</div>
<div class="row">
  <div class="col-md-5">
    <div class="input-group">
      <div class="input-group-append">
        <button class="input-group-text btn bg-gradient-light" onclick="pasteData($('#findRoomById'))">
          <i class="fa-solid fa-paste"></i>
        </button>
      </div>
      <input type="text" id="findRoomById" class="form-control" placeholder="ป้อนรหัสข้อมูลห้องพัก">
      <div class="input-group-append">
        <button class="input-group-text btn bg-gradient-primary border-0" id="findRoomByIdBtn">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </div>
    </div>
  </div>
</div>
<% if(data_role =='administrator' || data_role.room_create ) { %>
<div class="text-right m-1">
  <a class="btn bg-gradient-success  rounded-0" href="/system?p=rm_ins">
    <i class="fa-solid fa-plus"></i>
    <span class="ml-1 font-weight-bold">เพิ่มห้องพัก</span>
  </a>
</div>
<%  } %>
<div class="row">
  <div class="col-md-3" id="entries-query"></div>
</div>

<div class="entries-d">
  <span class="entries-text">แสดง</span>
  <span class="entries-count"> <%= entries.length %> </span>
  <span> รายการ </span>
</div>
<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th style="width: 5%;" class="text-center">ลำดับ</th>
        <th style="width: 30%;">รหัสข้อมูล</th>
        <th class="text-center" style="width: 8%;">คัดลอก</th>
        <th style="width: 12%;">ประเภท</th>
        <th style="width: 20%;">แก้ไขล่าสุด</th>
        <th style="width: 25%;" class="text-center"></th>
      </tr>
    </thead>
    <tbody>
      <% if(entries.length == 0){ %>
      <tr>
        <td class="text-muted text-center" colspan="6">ไม่พบข้อมูลนี้</td>
      </tr>
      <% } %>
      <% for (let i = 0; i < entries.length; i++) { %>
      <tr>
        <th class="text-center">
          <%= (paginate.page*paginate.row)+i+1 %>
        </th>
        <td>
          <input type="text" value="<%= entries[i].room_id  %>" class="form-control-plaintext p-0" id="<%= entries[i].room_id  %>" disabled />
        </td>
        <td class="text-center">
          <button class="input-group-text btn bg-gradient-secondary" onclick="copyData($('#<%= entries[i].room_id  %>'), $('#alert-<%= entries[i].room_id  %>'))">
            <i class="fa-solid fa-copy"></i>
          </button>
          <div class="position-absolute">
            <p id="alert-<%= entries[i].room_id  %>" class="position-relative  tooltop-alert bg-gradient-dark badge"></p>
          </div>
        </td>
        <td class="font-weight-bold">
          <%= entries[i].rental_type_display %>
        </td>
        <td> <%= entries[i].modified %></td>
        <td>
          <% if (admin_role =='administrator' || data_role.room_view) { %>
          <button class="btn btn-sm  bg-gradient-primary" name="room-info" data-id="<%= entries[i].room_id %>">
            <span class="font-weight-bold">ข้อมูล</span>
          </button>
          <% } %>

          <% if (admin_role =='administrator' || data_role.room_edit) { %>
          <a class="btn btn-sm  bg-gradient-secondary" href="/system?p=rm_edit&id=<%= entries[i].room_id %>">
            <i class="fa-solid fa-pencil"></i>
            <span class="font-weight-bold ml-1">แก้ไข</span>
          </a>
          <% } %>

          <% if (admin_role =='administrator' || data_role.room_remove) { %>
          <button class="btn btn-sm bg-gradient-secondary" name="room-remove" data-id="<%= entries[i].room_id %>" data-imgdelete="<%= entries[i].example_room %>">
            <span class="font-weight-bold">ลบ</span>
          </button>
          <% } %>
        </td>
      </tr>
      <% } %>
    </tbody>
  </table>
</div>

<%- include ('paginateQuery') %>
<%- include('room_manage_modal') %>
<script src="/js/paginate.js"></script>
<script src="/src/js/admin/rooms/roomManage.js"></script>
<script src="/src/js/admin/rooms/roomInfo.js"></script>