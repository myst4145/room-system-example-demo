<div class="text-right m-1 p-2">
  <button class="btn bg-gradient-primary rounded-0" name="open-meta-modal" data-act="add">
    เพิ่ม Meta
  </button>
</div>


<div class="row align-items-center">
  <div class="col-md-3">
    <select class="form-control custom-select" id="room-id-find">
      <option value="" selected>เลือกหมายเลขห้อง</option>
      <% for (let i =0;i<room_number.length;i++) { %>
      <option value="<%= room_number[i].room_id  %>">
        <%= JSON.parse(room_number[i].room_sub).map((r)=>r.room_number).join('-') %>
      </option>
      <% } %>
    </select>

  </div>
  <div class="col-auto">
    <button class="btn bg-gradient-secondary rounded-0" onclick="location.assign(`?p=meta`)">
      <i class="fa-solid fa-xmark"></i>
      <span class="ml-1 font-weight-bold">รีเซ็ตค่า</span>
    </button>
  </div>
</div>
<div class="row">
  <div class="col-md-3" id="entries-query"></div>
</div>





<div class="entries-d">
  <span class="entries-text">แสดง</span>
  <span class="entries-count"><%= entries.length  %></span>
  <span>รายการ</span>
</div>
<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th style="width: 5%;" class="text-center">ลำดับ</th>
        <th style="width: 75%;">หมายเลขห้อง</th>
        <th style="width: 20%;" class="text-center"></th>
      </tr>
    </thead>
    <tbody>
      <% if(entries.length ==0) { %>
      <tr>
        <td class="text-center align-middle" colspan="4">ไม่มีข้อมูล</td>
      </tr>
      <% } %>
      <%  let idx = 1 %>
      <%  for(let i =0;i< entries.length;i++) { %>
      <tr class="align-middle">
        <td class="text-center align-middle">
          <%= (paginate.page*paginate.row)+i+1 %>
        </td>
        <td class="align-middle"> <%= entries[i].room_id %></td>
        <td class="text-center align-middle">
          <button class="btn btn-sm bg-gradient-primary" name="open-meta-modal" data-act="edit" data-id="<%= entries[i].meta_id %>">
            <i class="fa-solid fa-pen"></i>
            <span class="ml-1">แก้ไข</span>
          </button>

          <button class="btn btn-sm bg-gradient-secondary" name="meta-delete" data-id="<%= entries[i].meta_id %>">
            <i class="fa-solid fa-trash"></i>
            <span class="ml-1">ลบ</span>
          </button>
        </td>
      </tr>
      <% } %>
    </tbody>
  </table>
</div>


<%- include ('paginateQuery') %>
<%-  include('meta_modal') %>

<script src="/js/paginate.js"></script>
<script src="/js/admin/meta/meta.js"></script>
<script src="/js/admin/meta/getMetaById.js"></script>
<script src="/js/admin/meta/metaSubmit.js"></script>